<!-- Search  -->
<nz-collapse  nzExpandIconPosition=right>
  <nz-collapse-panel [nzHeader]="'Critiere de recherche'">
      <form nz-form [formGroup]="formulaire">
          <div nz-row>
            <div nz-col nzSpan="4">
              <div class="label-container">
                <div class="text-justify"><span>Code</span></div>
                <div class="text-justify"><span>Description</span></div>
                <div class="text-justify" style="margin-top: 70px;"><span>Actif</span></div>
              </div>
            </div>
            <div nz-col nzSpan="8">
              <div class="label-container">
                <div class="text-justify"><span><input nz-input  nzSize="default" formControlName="code" /></span></div>
                <div class="text-justify"><span><textarea nz-input formControlName="description" [nzAutosize]="{ minRows: 3, maxRows: 5 }"></textarea></span></div>
                <div class="text-justify"><span><nz-switch  nzCheckedChildren="Oui" nzUnCheckedChildren="Non"></nz-switch></span></div>
              </div>
            </div>
            <div nz-col nzSpan="4">
              <div class="label-container">
                <div class="text-justify"><span>Libellé </span></div>
                <div class="text-justify"><span>Ordre </span></div>
                <div class="text-justify" style="margin-top: 70px;"><span>HI7 </span></div>
              </div>
            </div>
            <div nz-col nzSpan="8">
              <div class="label-container">
                <div class="text-justify"><span><input nz-input formControlName="libelle" nzSize="default" /></span></div>
                <div class="text-justify"><span><input nz-input formControlName="ordre" nzSize="default" /></span></div>
                <div class="text-justify" style="margin-top: 60px;"><span><input nz-input formControlName="hl7" nzSize="default" /></span></div>
              </div>
            </div>
          </div>
          <button nz-button class="btn btn-purple" (click)="search()"  ><fa-icon [icon]="faSearch"></fa-icon> Rechercher </button>
          <button nz-button class="btn btn-white" (click)="onFormReset()"><fa-icon [icon]="faRotateLeft"></fa-icon> Réinitialiser </button>
          <button nz-button nzType="primary" class="btn btn-purple" routerLink="/referentiel/categories/ajouter"><fa-icon [icon]="faPlus"></fa-icon> Ajouter </button>
        </form>
        </nz-collapse-panel>
</nz-collapse>


<!-- Table  -->
<nz-table
#rowSelectionTable
nzShowSizeChanger
[nzData]="listOfData"
(nzCurrentPageDataChange)="onCurrentPageDataChange($event)"
>
<thead>
  <tr>
    <th
      [(nzChecked)]="checked"
      [nzIndeterminate]="indeterminate"
      (nzCheckedChange)="onAllChecked($event)"
    ><span *ngIf="setOfCheckedId.size!=0"> | <button style="margin-left: 5px;color: #ff0000b4;background-color: transparent;
    border-color:  transparent;"  nz-button nzType="primary" nzDanger (click)="DeleteCategorie()"><fa-icon [icon]="faTrash"></fa-icon></button></span></th>
    <!-- <th
      [(nzChecked)]="checked"
    ></th> -->
    <th>Code</th>
    <th>Description</th>
    <th>Actif</th>
    <th>Libellé</th>
    <th>Ordre</th>
    <th>HI7</th>
    <th></th>
  </tr>
</thead>
<tbody>
  <tr *ngFor="let data of rowSelectionTable.data">
    <td [nzChecked]="setOfCheckedId.has(data.id)" (nzCheckedChange)="onItemChecked(data.id, $event)"></td>
    <!-- <td [nzChecked]="setOfCheckedId.has(data.id)" (click)="DeleteCategorie(data.id)"></td> -->
    <td>{{ data.code }}</td>
    <td>{{ data.description }}</td>
    <td><div style="width: 14px;height: 14px;border-radius: 7px;" [ngStyle]="{'background-color': data.actif ? '#27C24C':'tomato' }"></div></td>
    <td>{{ data.libelle }}</td>
    <td>{{ data.ordre }}</td>
    <td>{{ data.hl7 }}</td>
    <td>   <button nz-button nzType="primary" class="btn btn-gray"  (click)="EditCategorie(data.id)"> Voir </button>
    </td>
  </tr>
</tbody>
</nz-table>     
