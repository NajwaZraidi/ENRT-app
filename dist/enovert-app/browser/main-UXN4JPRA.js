import{A as Pt,B as Ft,C as ue,E as ge,a as fe,m as xt,o as Dt,p as wt,q as bt,r as Et,s as Mt,u as Ot,v as Lt,w as It,y as Vt,z as At}from"./chunk-ZGEMEAOU.js";import{c as Tt}from"./chunk-FHMKQBTK.js";import{Da as vt,F as xe,G as De,I as ft,J as A,K as $,M as ut,N as gt,P as mt,Q as Ct,S as St,T as _t,U as ze,V as L,W as we,X as be,aa as kt,ca as yt,e as ct,h as z,ja as Nt,l as dt,n as ht,u as he,v as pt,x as pe,y as zt}from"./chunk-C6ZZYYDU.js";import{$ as We,$b as rt,A as $e,Ab as Xe,Bb as et,Cb as ee,Ea as se,Ga as K,Ha as Ze,I as Re,Ja as re,Kb as tt,La as u,Lb as nt,Ma as ye,Mb as te,Na as l,Nb as W,Oa as Y,P as Ke,Pa as _,Qa as Ye,R as N,Rb as de,Sb as ve,T as je,U as Ue,Ub as it,W as f,Wa as y,Xa as k,Y as T,Ya as S,Z as x,Za as w,Zb as st,_a as b,aa as m,ab as H,ac as ot,ba as C,cc as at,da as ne,db as E,eb as c,fa as Z,fc as lt,ga as D,ha as Ge,hb as oe,i as P,ib as j,ic as Te,j as Pe,jb as I,kb as V,la as ie,lb as U,na as ke,o as p,q as _e,s as Fe,sa as B,sb as ae,t as Be,ta as Qe,tb as O,ub as le,vb as Ne,wa as Je,wb as ce,x as F,xb as X,ya as h,z as He,za as g,zb as qe}from"./chunk-4E3DKTGJ.js";var rn=[{path:"referentiel",loadChildren:()=>import("./chunk-X4JTCTVQ.js").then(s=>s.ReferentielModule)},{path:"admission",loadChildren:()=>import("./chunk-3BMB4RUS.js").then(s=>s.AdmissionModule)},{path:"",component:Tt}],Bt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=x({type:i}),i.\u0275inj=D({imports:[Te.forRoot(rn),Te]});let s=i;return s})();var Ht=(()=>{let i=class i{constructor(){this.isCollapsed=!1}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=T({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,t){n&1&&S(0,"router-outlet")},dependencies:[lt]});let s=i;return s})();var $t=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=x({type:i}),i.\u0275inj=D({});let s=i;return s})();function on(s){let i=s,r=Math.floor(Math.abs(s)),e=s.toString().replace(/^[^.]*\.?/,"").length,n=parseInt(s.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return r===0||r===1?1:n===0&&r!==0&&r%1e6===0&&e===0||!(n>=0&&n<=5)?4:5}var Rt=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",on];var me=class s{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(i,r=null,e=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,i instanceof s)return i;this.service=e||null,this.origin=i,this.key=i.key,this.parentNode=r,this._title=i.title||"---",this._icon=i.icon||"",this._isLeaf=i.isLeaf||!1,this._children=[],this._isChecked=i.checked||!1,this._isSelectable=i.disabled||i.selectable!==!1,this._isDisabled=i.disabled||!1,this._isDisableCheckbox=i.disableCheckbox||!1,this._isExpanded=i.isLeaf?!1:i.expanded||!1,this._isHalfChecked=!1,this._isSelected=!i.disabled&&i.selected||!1,this._isLoading=!1,this.isMatched=!1,r?this.level=r.level+1:this.level=0,typeof i.children<"u"&&i.children!==null&&i.children.forEach(n=>{let t=this.treeService;t&&!t.isCheckStrictly&&i.checked&&!i.disabled&&!n.disabled&&!n.disableCheckbox&&(n.checked=i.checked),this._children.push(new s(n,this))})}get title(){return this._title}set title(i){this._title=i,this.update()}get icon(){return this._icon}set icon(i){this._icon=i,this.update()}get children(){return this._children}set children(i){this._children=i,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(i){this._isLeaf=i,this.update()}get isChecked(){return this._isChecked}set isChecked(i){this._isChecked=i,this.origin.checked=i,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(i){this._isHalfChecked=i,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(i){this._isSelectable=i,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(i){this._isDisabled=i,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(i){this._isDisableCheckbox=i,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(i){this._isSelected=i,this.origin.selected=i,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(i){this._isLoading=i,this.update()}setSyncChecked(i=!1,r=!1){this.setChecked(i,r),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(i=!1,r=!1){this.origin.checked=i,this.isChecked=i,this.isHalfChecked=r}setExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(i,r=-1){this.isLeaf||(i.forEach(e=>{let n=o=>{o.getChildren().forEach(a=>{a.level=a.getParentNode().level+1,a.origin.level=a.level,n(a)})},t=e;t instanceof s?t.parentNode=this:t=new s(e,this),t.level=this.level+1,t.origin.level=t.level,n(t);try{r===-1?this.children.push(t):this.children.splice(r,0,t)}catch{}}),this.origin.children=this.getChildren().map(e=>e.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){let i=this.getParentNode();i&&(i.children=i.getChildren().filter(r=>r.key!==this.key),i.origin.children=i.origin.children.filter(r=>r.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(i){if(this.treeService)switch(i){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(r=>r.key));break}this.update()}update(){this.component&&this.component.markForCheck()}};function Ee(s){let{isDisabled:i,isDisableCheckbox:r}=s;return!!(i||r)}function Kt(s,i){return i.length>0&&i.indexOf(s)>-1}function an(s,i){return`${s}-${i}`}function ln(s,i){return s??i}function Me(s=[],i=[]){let r=new Set(i===!0?[]:i),e=[];function n(t,o=null){return t.map((a,d)=>{let v=an(o?o.pos:"0",d),Q=ln(a.key,v);a.isStart=[...o?o.isStart:[],d===0],a.isEnd=[...o?o.isEnd:[],d===t.length-1];let M={parent:o,pos:v,children:[],data:a,isStart:[...o?o.isStart:[],d===0],isEnd:[...o?o.isEnd:[],d===t.length-1]};return e.push(M),i===!0||r.has(Q)||a.isExpanded?M.children=n(a.children||[],M):M.children=[],M})}return n(s),e}var R=(()=>{let i=class i{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new Pe([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(e){this.rootNodes=e,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(e,n=[]){this.flattenNodes$.next(Me(e,n).map(t=>t.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeKeys(){let e=[],n=this.getCheckedNodeList(),t=o=>{o.forEach(a=>{e.push(a.key),!(a.children.length<1)&&t(a.children)})};return t(n),e}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(e){return e.every(n=>n instanceof me)}setSelectedNode(e){this.selectedNode=e}setNodeActive(e){!this.isMultiple&&e.isSelected&&(this.selectedNodeList.forEach(n=>{e.key!==n.key&&(n.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(e,this.isMultiple)}setSelectedNodeList(e,n=!1){let t=this.getIndexOfArray(this.selectedNodeList,e.key);n?e.isSelected&&t===-1&&this.selectedNodeList.push(e):e.isSelected&&t===-1&&(this.selectedNodeList=[e]),e.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(o=>o.key!==e.key))}setHalfCheckedNodeList(e){let n=this.getIndexOfArray(this.halfCheckedNodeList,e.key);e.isHalfChecked&&n===-1?this.halfCheckedNodeList.push(e):!e.isHalfChecked&&n>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(t=>e.key!==t.key))}setCheckedNodeList(e){let n=this.getIndexOfArray(this.checkedNodeList,e.key);e.isChecked&&n===-1?this.checkedNodeList.push(e):!e.isChecked&&n>-1&&(this.checkedNodeList=this.checkedNodeList.filter(t=>e.key!==t.key))}conductNodeState(e="check"){let n=[];switch(e){case"select":n=this.selectedNodeList;break;case"expand":n=this.expandedNodeList;break;case"match":n=this.matchedNodeList;break;case"check":n=this.checkedNodeList;let t=o=>{let a=o.getParentNode();return a?this.checkedNodeList.findIndex(d=>d.key===a.key)>-1?!0:t(a):!1};this.isCheckStrictly||(n=this.checkedNodeList.filter(o=>!t(o)));break;case"halfCheck":this.isCheckStrictly||(n=this.halfCheckedNodeList);break}return n}setExpandedNodeList(e){if(e.isLeaf)return;let n=this.getIndexOfArray(this.expandedNodeList,e.key);e.isExpanded&&n===-1?this.expandedNodeList.push(e):!e.isExpanded&&n>-1&&this.expandedNodeList.splice(n,1)}setMatchedNodeList(e){let n=this.getIndexOfArray(this.matchedNodeList,e.key);e.isMatched&&n===-1?this.matchedNodeList.push(e):!e.isMatched&&n>-1&&this.matchedNodeList.splice(n,1)}refreshCheckState(e=!1){e||this.checkedNodeList.forEach(n=>{this.conduct(n,e)})}conduct(e,n=!1){let t=e.isChecked;e&&!n&&(this.conductUp(e),this.conductDown(e,t))}conductUp(e){let n=e.getParentNode();n&&(Ee(n)||(n.children.every(t=>Ee(t)||!t.isHalfChecked&&t.isChecked)?(n.isChecked=!0,n.isHalfChecked=!1):n.children.some(t=>t.isHalfChecked||t.isChecked)?(n.isChecked=!1,n.isHalfChecked=!0):(n.isChecked=!1,n.isHalfChecked=!1)),this.setCheckedNodeList(n),this.setHalfCheckedNodeList(n),this.conductUp(n))}conductDown(e,n){Ee(e)||(e.isChecked=n,e.isHalfChecked=!1,this.setCheckedNodeList(e),this.setHalfCheckedNodeList(e),e.children.forEach(t=>{this.conductDown(t,n)}))}afterRemove(e){let n=t=>{this.selectedNodeList=this.selectedNodeList.filter(o=>o.key!==t.key),this.expandedNodeList=this.expandedNodeList.filter(o=>o.key!==t.key),this.checkedNodeList=this.checkedNodeList.filter(o=>o.key!==t.key),t.children&&t.children.forEach(o=>{n(o)})};e.forEach(t=>{n(t)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(e){e.children.length===0?this.conductUp(e):e.children.forEach(n=>{this.refreshDragNode(n)})}resetNodeLevel(e){let n=e.getParentNode();n?e.level=n.level+1:e.level=0;for(let t of e.children)this.resetNodeLevel(t)}calcDropPosition(e){let{clientY:n}=e,{top:t,bottom:o,height:a}=e.target.getBoundingClientRect(),d=Math.max(a*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return n<=t+d?-1:n>=o-d?1:0}dropAndApply(e,n=-1){if(!e||n>1)return;let t=e.treeService,o=e.getParentNode(),a=this.selectedNode.getParentNode();switch(a?a.children=a.children.filter(d=>d.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(d=>d.key!==this.selectedNode.key),n){case 0:e.addChildren([this.selectedNode]),this.resetNodeLevel(e);break;case-1:case 1:let d=n===1?1:0;if(o){o.addChildren([this.selectedNode],o.children.indexOf(e)+d);let v=this.selectedNode.getParentNode();v&&this.resetNodeLevel(v)}else{let v=this.rootNodes.indexOf(e)+d;this.rootNodes.splice(v,0,this.selectedNode),this.rootNodes[v].parentNode=null,this.resetNodeLevel(this.rootNodes[v])}break}this.rootNodes.forEach(d=>{d.treeService||(d.service=t),this.refreshDragNode(d)})}formatEvent(e,n,t){let o={eventName:e,node:n,event:t};switch(e){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(o,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(o,{selectedKeys:this.selectedNodeList}),Object.assign(o,{nodes:this.selectedNodeList}),Object.assign(o,{keys:this.selectedNodeList.map(d=>d.key)});break;case"check":let a=this.getCheckedNodeList();Object.assign(o,{checkedKeys:a}),Object.assign(o,{nodes:a}),Object.assign(o,{keys:a.map(d=>d.key)});break;case"search":Object.assign(o,{matchedKeys:this.getMatchedNodeList()}),Object.assign(o,{nodes:this.getMatchedNodeList()}),Object.assign(o,{keys:this.getMatchedNodeList().map(d=>d.key)});break;case"expand":Object.assign(o,{nodes:this.expandedNodeList}),Object.assign(o,{keys:this.expandedNodeList.map(d=>d.key)});break}return o}getIndexOfArray(e,n){return e.findIndex(t=>t.key===n)}conductCheck(e,n){this.checkedNodeList=[],this.halfCheckedNodeList=[];let t=o=>{o.forEach(a=>{e===null?a.isChecked=!!a.origin.checked:Kt(a.key,e||[])?(a.isChecked=!0,a.isHalfChecked=!1):(a.isChecked=!1,a.isHalfChecked=!1),a.children.length>0&&t(a.children)})};t(this.rootNodes),this.refreshCheckState(n)}conductExpandedKeys(e=[]){let n=new Set(e===!0?[]:e);this.expandedNodeList=[];let t=o=>{o.forEach(a=>{a.setExpanded(e===!0||n.has(a.key)||a.isExpanded===!0),a.isExpanded&&this.setExpandedNodeList(a),a.children.length>0&&t(a.children)})};t(this.rootNodes)}conductSelectedKeys(e,n){this.selectedNodeList.forEach(o=>o.isSelected=!1),this.selectedNodeList=[];let t=o=>o.every(a=>{if(Kt(a.key,e)){if(a.isSelected=!0,this.setSelectedNodeList(a),!n)return!1}else a.isSelected=!1;return a.children.length>0?t(a.children):!0});t(this.rootNodes)}expandNodeAllParentBySearch(e){let n=t=>{if(t&&(t.canHide=!1,t.setExpanded(!0),this.setExpandedNodeList(t),t.getParentNode()))return n(t.getParentNode())};n(e.getParentNode())}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=Z({token:i,factory:i.\u0275fac});let s=i;return s})(),Ce=new Ge("NzTreeHigherOrder"),q=class{constructor(i){this.nzTreeService=i}coerceTreeNodes(i){let r=[];return this.nzTreeService.isArrayOfNzTreeNode(i)?r=i.map(e=>(e.service=this.nzTreeService,e)):r=i.map(e=>new me(e,null,this.nzTreeService)),r}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(i){let r=[],e=n=>{r.push(n),n.getChildren().forEach(t=>{e(t)})};return this.getTreeNodes().forEach(n=>{e(n)}),r.find(n=>n.key===i)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}};var dn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hn=/([^\#-~ |!])/g;function pn(s){return s.replace(/&/g,"&amp;").replace(dn,i=>{let r=i.charCodeAt(0),e=i.charCodeAt(1);return`&#${(r-55296)*1024+(e-56320)+65536};`}).replace(hn,i=>`&#${i.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var jt=(()=>{let i=class i{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(e,n,t,o){if(!n)return e;let a=new RegExp(n.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),t),d=e.replace(a,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`);return pn(d).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),o?`<span class="${o}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}};i.\u0275fac=function(n){return new(n||i)},i.\u0275pipe=We({name:"nzHighlight",type:i,pure:!0,standalone:!0});let s=i;return s})(),Ut=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=x({type:i}),i.\u0275inj=D({});let s=i;return s})();function mn(s,i){if(s&1&&S(0,"span"),s&2){let r=i.index,e=c();_("ant-tree-indent-unit",!e.nzSelectMode)("ant-select-tree-indent-unit",e.nzSelectMode)("ant-select-tree-indent-unit-start",e.nzSelectMode&&e.nzIsStart[r])("ant-tree-indent-unit-start",!e.nzSelectMode&&e.nzIsStart[r])("ant-select-tree-indent-unit-end",e.nzSelectMode&&e.nzIsEnd[r])("ant-tree-indent-unit-end",!e.nzSelectMode&&e.nzIsEnd[r])}}var Wt=["builtin",""];function Cn(s,i){if(s&1&&(w(0),S(1,"span",4),b()),s&2){let r=c(3);h(),_("ant-select-tree-switcher-icon",r.nzSelectMode)("ant-tree-switcher-icon",!r.nzSelectMode)}}var Oe=(s,i)=>({$implicit:s,origin:i});function Sn(s,i){if(s&1&&(w(0),u(1,Cn,2,4,"ng-container",3),b()),s&2){let r=c(2);h(),l("nzStringTemplateOutlet",r.nzExpandedIcon)("nzStringTemplateOutletContext",ce(2,Oe,r.context,r.context.origin))}}function _n(s,i){if(s&1&&(w(0),u(1,Sn,2,5,"ng-container",2),b()),s&2){let r=c(),e=U(3);h(),l("ngIf",!r.isLoading)("ngIfElse",e)}}function kn(s,i){if(s&1&&S(0,"span",7),s&2){let r=c(4);l("nzType",r.isSwitcherOpen?"minus-square":"plus-square")}}function yn(s,i){s&1&&S(0,"span",8)}function Nn(s,i){if(s&1&&(w(0),u(1,kn,1,1,"span",5)(2,yn,1,0,"span",6),b()),s&2){let r=c(3);h(),l("ngIf",r.isShowLineIcon),h(),l("ngIf",!r.isShowLineIcon)}}function vn(s,i){if(s&1&&(w(0),u(1,Nn,3,2,"ng-container",3),b()),s&2){let r=c(2);h(),l("nzStringTemplateOutlet",r.nzExpandedIcon)("nzStringTemplateOutletContext",ce(2,Oe,r.context,r.context.origin))}}function Tn(s,i){if(s&1&&(w(0),u(1,vn,2,5,"ng-container",2),b()),s&2){let r=c(),e=U(3);h(),l("ngIf",!r.isLoading)("ngIfElse",e)}}function xn(s,i){s&1&&S(0,"span",9),s&2&&l("nzSpin",!0)}function Dn(s,i){}function wn(s,i){if(s&1&&S(0,"span",6),s&2){let r=c(3);l("nzType",r.icon)}}function bn(s,i){if(s&1&&(y(0,"span")(1,"span"),u(2,wn,1,1,"span",5),k()()),s&2){let r=c(2);_("ant-tree-icon__open",r.isSwitcherOpen)("ant-tree-icon__close",r.isSwitcherClose)("ant-tree-icon_loading",r.isLoading)("ant-select-tree-iconEle",r.selectMode)("ant-tree-iconEle",!r.selectMode),h(),_("ant-select-tree-iconEle",r.selectMode)("ant-select-tree-icon__customize",r.selectMode)("ant-tree-iconEle",!r.selectMode)("ant-tree-icon__customize",!r.selectMode),h(),l("ngIf",r.icon)}}function En(s,i){if(s&1&&(w(0),u(1,bn,3,19,"span",3),S(2,"span",4),X(3,"nzHighlight"),b()),s&2){let r=c();h(),l("ngIf",r.icon&&r.showIcon),h(),l("innerHTML",et(3,2,r.title,r.matchedValue,"i","font-highlight"),Je)}}function Mn(s,i){if(s&1&&S(0,"nz-tree-drop-indicator",7),s&2){let r=c();l("dropPosition",r.dragPosition)("level",r.context.level)}}function On(s,i){if(s&1){let r=H();y(0,"nz-tree-node-switcher",4),E("click",function(n){m(r);let t=c();return C(t.clickExpand(n))}),k()}if(s&2){let r=c();l("nzShowExpand",r.nzShowExpand)("nzShowLine",r.nzShowLine)("nzExpandedIcon",r.nzExpandedIcon)("nzSelectMode",r.nzSelectMode)("context",r.nzTreeNode)("isLeaf",r.isLeaf)("isExpanded",r.isExpanded)("isLoading",r.isLoading)}}function Ln(s,i){if(s&1){let r=H();y(0,"nz-tree-node-checkbox",5),E("click",function(n){m(r);let t=c();return C(t.clickCheckBox(n))}),k()}if(s&2){let r=c();l("nzSelectMode",r.nzSelectMode)("isChecked",r.isChecked)("isHalfChecked",r.isHalfChecked)("isDisabled",r.isDisabled)("isDisableCheckbox",r.isDisableCheckbox)}}var In=["nzTreeTemplate"];function Vn(s,i){}var Gt=s=>({$implicit:s});function An(s,i){if(s&1&&(w(0),u(1,Vn,0,0,"ng-template",10),b()),s&2){let r=i.$implicit;c(2);let e=U(9);h(),l("ngTemplateOutlet",e)("ngTemplateOutletContext",Ne(2,Gt,r))}}function Pn(s,i){if(s&1&&(y(0,"cdk-virtual-scroll-viewport",8),u(1,An,2,4,"ng-container",9),k()),s&2){let r=c();Y("height",r.nzVirtualHeight),_("ant-select-tree-list-holder-inner",r.nzSelectMode)("ant-tree-list-holder-inner",!r.nzSelectMode),l("itemSize",r.nzVirtualItemSize)("minBufferPx",r.nzVirtualMinBufferPx)("maxBufferPx",r.nzVirtualMaxBufferPx),h(),l("cdkVirtualForOf",r.nzFlattenNodes)("cdkVirtualForTrackBy",r.trackByFlattenNode)}}function Fn(s,i){}function Bn(s,i){if(s&1&&(w(0),u(1,Fn,0,0,"ng-template",10),b()),s&2){let r=i.$implicit;c(2);let e=U(9);h(),l("ngTemplateOutlet",e)("ngTemplateOutletContext",Ne(2,Gt,r))}}function Hn(s,i){if(s&1&&(y(0,"div",11),u(1,Bn,2,4,"ng-container",12),k()),s&2){let r=c();_("ant-select-tree-list-holder-inner",r.nzSelectMode)("ant-tree-list-holder-inner",!r.nzSelectMode),l("@.disabled",r.beforeInit||!!(r.noAnimation!=null&&r.noAnimation.nzNoAnimation))("nzNoAnimation",r.noAnimation==null?null:r.noAnimation.nzNoAnimation)("@treeCollapseMotion",r.nzFlattenNodes.length),h(),l("ngForOf",r.nzFlattenNodes)("ngForTrackBy",r.trackByFlattenNode)}}function $n(s,i){if(s&1){let r=H();y(0,"nz-tree-node",13),E("nzExpandChange",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzClick",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzDblClick",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzContextMenu",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzCheckBoxChange",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzOnDragStart",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzOnDragEnter",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzOnDragOver",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzOnDragLeave",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzOnDragEnd",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))})("nzOnDrop",function(n){m(r);let t=c();return C(t.eventTriggerChanged(n))}),k()}if(s&2){let r=i.$implicit,e=c();l("icon",r.icon)("title",r.title)("isLoading",r.isLoading)("isSelected",r.isSelected)("isDisabled",r.isDisabled)("isMatched",r.isMatched)("isExpanded",r.isExpanded)("isLeaf",r.isLeaf)("isStart",r.isStart)("isEnd",r.isEnd)("isChecked",r.isChecked)("isHalfChecked",r.isHalfChecked)("isDisableCheckbox",r.isDisableCheckbox)("isSelectable",r.isSelectable)("canHide",r.canHide)("nzTreeNode",r)("nzSelectMode",e.nzSelectMode)("nzShowLine",e.nzShowLine)("nzExpandedIcon",e.nzExpandedIcon)("nzDraggable",e.nzDraggable)("nzCheckable",e.nzCheckable)("nzShowExpand",e.nzShowExpand)("nzAsyncData",e.nzAsyncData)("nzSearchValue",e.nzSearchValue)("nzHideUnMatched",e.nzHideUnMatched)("nzBeforeDrop",e.nzBeforeDrop)("nzShowIcon",e.nzShowIcon)("nzTreeTemplate",e.nzTreeTemplate||e.nzTreeTemplateChild)}}var Rn=(()=>{let i=class i{constructor(e){this.cdr=e,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(e){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(e,n="ltr"){let o=n==="ltr"?"left":"right",a=n==="ltr"?"right":"left",d={[o]:"4px",[a]:"0px"};switch(e){case-1:d.top="-3px";break;case 1:d.bottom="-3px";break;case 0:d.bottom="-3px",d[o]="28px";break;default:d.display="none";break}this.style=d,this.cdr.markForCheck()}};i.\u0275fac=function(n){return new(n||i)(g(K))},i.\u0275cmp=T({type:i,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(n,t){n&2&&(Ye(t.style),_("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:"level",direction:"direction"},exportAs:["NzTreeDropIndicator"],standalone:!0,features:[B,O],decls:0,vars:0,template:function(n,t){},encapsulation:2,changeDetection:0});let s=i;return s})(),Kn=(()=>{let i=class i{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(e){let{nzTreeLevel:n}=e;n&&(this.listOfUnit=[...new Array(n.currentValue||0)])}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=T({type:i,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(n,t){n&2&&(ye("aria-hidden",!0),_("ant-tree-indent",!t.nzSelectMode)("ant-select-tree-indent",t.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],standalone:!0,features:[B,O],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(n,t){n&1&&u(0,mn,1,12,"span",0),n&2&&l("ngForOf",t.listOfUnit)},dependencies:[te],encapsulation:2,changeDetection:0});let s=i;return s})(),jn=(()=>{let i=class i{constructor(){this.nzSelectMode=!1}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=T({type:i,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(n,t){n&2&&_("ant-select-tree-checkbox",t.nzSelectMode)("ant-select-tree-checkbox-checked",t.nzSelectMode&&t.isChecked)("ant-select-tree-checkbox-indeterminate",t.nzSelectMode&&t.isHalfChecked)("ant-select-tree-checkbox-disabled",t.nzSelectMode&&(t.isDisabled||t.isDisableCheckbox))("ant-tree-checkbox",!t.nzSelectMode)("ant-tree-checkbox-checked",!t.nzSelectMode&&t.isChecked)("ant-tree-checkbox-indeterminate",!t.nzSelectMode&&t.isHalfChecked)("ant-tree-checkbox-disabled",!t.nzSelectMode&&(t.isDisabled||t.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},standalone:!0,features:[O],attrs:Wt,decls:1,vars:4,template:function(n,t){n&1&&S(0,"span"),n&2&&_("ant-tree-checkbox-inner",!t.nzSelectMode)("ant-select-tree-checkbox-inner",t.nzSelectMode)},encapsulation:2,changeDetection:0});let s=i;return s})(),Qt=(()=>{let i=class i{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=T({type:i,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(n,t){n&2&&_("ant-select-tree-switcher",t.nzSelectMode)("ant-select-tree-switcher-noop",t.nzSelectMode&&t.isLeaf)("ant-select-tree-switcher_open",t.nzSelectMode&&t.isSwitcherOpen)("ant-select-tree-switcher_close",t.nzSelectMode&&t.isSwitcherClose)("ant-tree-switcher",!t.nzSelectMode)("ant-tree-switcher-noop",!t.nzSelectMode&&t.isLeaf)("ant-tree-switcher_open",!t.nzSelectMode&&t.isSwitcherOpen)("ant-tree-switcher_close",!t.nzSelectMode&&t.isSwitcherClose)},inputs:{nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},standalone:!0,features:[O],decls:4,vars:2,consts:[[4,"ngIf"],["loadingTemplate",""],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(n,t){n&1&&u(0,_n,2,2,"ng-container",0)(1,Tn,2,2,"ng-container",0)(2,xn,1,1,"ng-template",null,1,ee),n&2&&(l("ngIf",t.isShowSwitchIcon),h(),l("ngIf",t.nzShowLine))},dependencies:[be,we,W,_t,St],encapsulation:2,changeDetection:0});let s=i;return s})(),Jt=(()=>{let i=class i{get canDraggable(){return this.draggable&&!this.isDisabled?!0:null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(e){this.cdr=e,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(e){let{showIndicator:n,dragPosition:t}=e;(n||t)&&this.cdr.markForCheck()}};i.\u0275fac=function(n){return new(n||i)(g(K))},i.\u0275cmp=T({type:i,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(n,t){n&2&&(ye("title",t.title)("draggable",t.canDraggable)("aria-grabbed",t.canDraggable),_("draggable",t.canDraggable)("ant-select-tree-node-content-wrapper",t.selectMode)("ant-select-tree-node-content-wrapper-open",t.selectMode&&t.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",t.selectMode&&t.isSwitcherClose)("ant-select-tree-node-selected",t.selectMode&&t.isSelected)("ant-tree-node-content-wrapper",!t.selectMode)("ant-tree-node-content-wrapper-open",!t.selectMode&&t.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!t.selectMode&&t.isSwitcherClose)("ant-tree-node-selected",!t.selectMode&&t.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:"draggable",showIcon:"showIcon",selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",showIndicator:"showIndicator",dragPosition:"dragPosition"},standalone:!0,features:[B,O],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"dropPosition","level",4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(n,t){n&1&&u(0,Dn,0,0,"ng-template",0)(1,En,4,7,"ng-container",1)(2,Mn,1,2,"nz-tree-drop-indicator",2),n&2&&(l("ngTemplateOutlet",t.treeTemplate)("ngTemplateOutletContext",ce(4,Oe,t.context,t.context.origin)),h(),l("ngIf",!t.treeTemplate),h(),l("ngIf",t.showIndicator))},dependencies:[ve,W,be,we,Ut,jt,Rn],encapsulation:2,changeDetection:0});let s=i;return s})(),Zt=(()=>{let i=class i{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(e){e.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&this.nzTreeNode.children.length===0&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);let n=this.nzTreeService.formatEvent("expand",this.nzTreeNode,e);this.nzExpandChange.emit(n)}clickSelect(e){e.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);let n=this.nzTreeService.formatEvent("click",this.nzTreeNode,e);this.nzClick.emit(n)}dblClick(e){e.preventDefault();let n=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,e);this.nzDblClick.emit(n)}contextMenu(e){e.preventDefault();let n=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,e);this.nzContextMenu.emit(n)}clickCheckBox(e){if(e.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);let n=this.nzTreeService.formatEvent("check",this.nzTreeNode,e);this.nzCheckBoxChange.emit(n)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(n=>{this.renderer.removeClass(this.elementRef.nativeElement,n)})}handleDragStart(e){try{e.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;let n=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,e);this.nzOnDragStart.emit(n)}handleDragEnter(e){e.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{let n=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,e);this.nzOnDragEnter.emit(n)})}handleDragOver(e){e.preventDefault();let n=this.nzTreeService.calcDropPosition(e);this.dragPos!==n&&(this.clearDragClass(),this.renderIndicator(n),this.dragPos===0&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));let t=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,e);this.nzOnDragOver.emit(t)}handleDragLeave(e){e.preventDefault(),this.renderIndicator(2),this.clearDragClass();let n=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,e);this.nzOnDragLeave.emit(n)}handleDragDrop(e){e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();let n=this.nzTreeService.getSelectedNode();if(!n||n&&n.key===this.nzTreeNode.key||this.dragPos===0&&this.isLeaf)return;let t=this.nzTreeService.formatEvent("drop",this.nzTreeNode,e),o=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(a=>{a&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(t),this.nzOnDragEnd.emit(o)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(t))})}handleDragEnd(e){e.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;let n=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzOnDragEnd.emit(n)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){let e=this.elementRef.nativeElement;this.destroy$=new P,F(e,"dragstart").pipe(N(this.destroy$)).subscribe(n=>this.handleDragStart(n)),F(e,"dragenter").pipe(N(this.destroy$)).subscribe(n=>this.handleDragEnter(n)),F(e,"dragover").pipe(N(this.destroy$)).subscribe(n=>this.handleDragOver(n)),F(e,"dragleave").pipe(N(this.destroy$)).subscribe(n=>this.handleDragLeave(n)),F(e,"drop").pipe(N(this.destroy$)).subscribe(n=>this.handleDragDrop(n)),F(e,"dragend").pipe(N(this.destroy$)).subscribe(n=>this.handleDragEnd(n))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(e,n,t,o,a,d){this.nzTreeService=e,this.ngZone=n,this.renderer=t,this.elementRef=o,this.cdr=a,this.noAnimation=d,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new f,this.nzDblClick=new f,this.nzContextMenu=new f,this.nzCheckBoxChange=new f,this.nzExpandChange=new f,this.nzOnDragStart=new f,this.nzOnDragEnter=new f,this.nzOnDragOver=new f,this.nzOnDragLeave=new f,this.nzOnDrop=new f,this.nzOnDragEnd=new f,this.destroy$=new P,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{F(this.elementRef.nativeElement,"mousedown").pipe(N(this.destroy$)).subscribe(e=>{this.nzSelectMode&&e.preventDefault()})})}ngOnChanges(e){let{nzDraggable:n}=e;n&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(e){this.ngZone.run(()=>{this.showIndicator=e!==2,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||e===0&&this.isLeaf)&&(this.dragPos=e,this.cdr.markForCheck())})}};i.\u0275fac=function(n){return new(n||i)(g(R),g(Ze),g(se),g(ne),g(K),g(A,9))},i.\u0275cmp=T({type:i,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(n,t){n&2&&(Y("display",t.displayStyle),_("ant-select-tree-treenode",t.nzSelectMode)("ant-select-tree-treenode-disabled",t.nzSelectMode&&t.isDisabled)("ant-select-tree-treenode-switcher-open",t.nzSelectMode&&t.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",t.nzSelectMode&&t.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",t.nzSelectMode&&t.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",t.nzSelectMode&&t.isHalfChecked)("ant-select-tree-treenode-selected",t.nzSelectMode&&t.isSelected)("ant-select-tree-treenode-loading",t.nzSelectMode&&t.isLoading)("ant-tree-treenode",!t.nzSelectMode)("ant-tree-treenode-disabled",!t.nzSelectMode&&t.isDisabled)("ant-tree-treenode-switcher-open",!t.nzSelectMode&&t.isSwitcherOpen)("ant-tree-treenode-switcher-close",!t.nzSelectMode&&t.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!t.nzSelectMode&&t.isChecked)("ant-tree-treenode-checkbox-indeterminate",!t.nzSelectMode&&t.isHalfChecked)("ant-tree-treenode-selected",!t.nzSelectMode&&t.isSelected)("ant-tree-treenode-loading",!t.nzSelectMode&&t.isLoading)("dragging",t.draggingKey===t.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],standalone:!0,features:[B,O],attrs:Wt,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition","dblclick","click","contextmenu"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click"]],template:function(n,t){n&1&&(S(0,"nz-tree-indent",0),u(1,On,1,8,"nz-tree-node-switcher",1)(2,Ln,1,5,"nz-tree-node-checkbox",2),y(3,"nz-tree-node-title",3),E("dblclick",function(a){return t.dblClick(a)})("click",function(a){return t.clickSelect(a)})("contextmenu",function(a){return t.contextMenu(a)}),k()),n&2&&(l("nzTreeLevel",t.nzTreeNode.level)("nzSelectMode",t.nzSelectMode)("nzIsStart",t.isStart)("nzIsEnd",t.isEnd),h(),l("ngIf",t.nzShowExpand),h(),l("ngIf",t.nzCheckable),h(),l("icon",t.icon)("title",t.title)("isLoading",t.isLoading)("isSelected",t.isSelected)("isDisabled",t.isDisabled)("isMatched",t.isMatched)("isExpanded",t.isExpanded)("isLeaf",t.isLeaf)("searchValue",t.nzSearchValue)("treeTemplate",t.nzTreeTemplate)("draggable",t.nzDraggable)("showIcon",t.nzShowIcon)("selectMode",t.nzSelectMode)("context",t.nzTreeNode)("showIndicator",t.showIndicator)("dragPosition",t.dragPos))},dependencies:[Kn,Qt,W,jn,Jt],encapsulation:2,changeDetection:0});let s=i;return p([z()],s.prototype,"nzShowLine",void 0),p([z()],s.prototype,"nzShowExpand",void 0),p([z()],s.prototype,"nzCheckable",void 0),p([z()],s.prototype,"nzAsyncData",void 0),p([z()],s.prototype,"nzHideUnMatched",void 0),p([z()],s.prototype,"nzNoAnimation",void 0),p([z()],s.prototype,"nzSelectMode",void 0),p([z()],s.prototype,"nzShowIcon",void 0),s})(),Yt=(()=>{let i=class i extends R{constructor(){super()}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=Z({token:i,factory:i.\u0275fac});let s=i;return s})();function Un(){let s=ke(Ce,{skipSelf:!0,optional:!0}),i=ke(Yt);return s??i}var Wn="tree",Le=(()=>{let i=class i extends q{writeValue(e){this.handleNzData(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}renderTreeProperties(e){let n=!1,t=!1,{nzData:o,nzExpandedKeys:a,nzSelectedKeys:d,nzCheckedKeys:v,nzCheckStrictly:Q,nzExpandAll:M,nzMultiple:Se,nzSearchValue:J}=e;M&&(n=!0,t=this.nzExpandAll),Se&&(this.nzTreeService.isMultiple=this.nzMultiple),Q&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),o&&this.handleNzData(this.nzData),v&&this.handleCheckedKeys(this.nzCheckedKeys),Q&&this.handleCheckedKeys(null),(a||M)&&(n=!0,this.handleExpandedKeys(t||this.nzExpandedKeys)),d&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),J&&(J.firstChange&&!this.nzSearchValue||(n=!1,this.handleSearchValue(J.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));let tn=this.getExpandedNodeList().map(sn=>sn.key),nn=n?t||this.nzExpandedKeys:tn;this.handleFlattenNodes(this.nzTreeService.rootNodes,nn)}trackByFlattenNode(e,n){return n.key}handleNzData(e){if(Array.isArray(e)){let n=this.coerceTreeNodes(e);this.nzTreeService.initTree(n)}}handleFlattenNodes(e,n=[]){this.nzTreeService.flattenTreeData(e,n)}handleCheckedKeys(e){this.nzTreeService.conductCheck(e,this.nzCheckStrictly)}handleExpandedKeys(e=[]){this.nzTreeService.conductExpandedKeys(e)}handleSelectedKeys(e,n){this.nzTreeService.conductSelectedKeys(e,n)}handleSearchValue(e,n){let t=Me(this.nzTreeService.rootNodes,!0).map(a=>a.data),o=a=>n?n(a.origin):!(!e||!a.title.toLowerCase().includes(e.toLowerCase()));t.forEach(a=>{a.isMatched=o(a),a.canHide=!a.isMatched,a.isMatched?this.nzTreeService.expandNodeAllParentBySearch(a):(a.setExpanded(!1),this.nzTreeService.setExpandedNodeList(a)),this.nzTreeService.setMatchedNodeList(a)})}eventTriggerChanged(e){let n=e.node;switch(e.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(e);break;case"click":this.nzClick.emit(e);break;case"dblclick":this.nzDblClick.emit(e);break;case"contextmenu":this.nzContextMenu.emit(e);break;case"check":this.nzTreeService.setCheckedNodeList(n),this.nzCheckStrictly||this.nzTreeService.conduct(n);let t=this.nzTreeService.formatEvent("check",n,e.event);this.nzCheckBoxChange.emit(t);let o=this.nzTreeService.getCheckedNodeKeys();this.nzCheckedKeysChange.emit(o);break;case"dragstart":n.isExpanded&&(n.setExpanded(!n.isExpanded),this.renderTree()),this.nzOnDragStart.emit(e);break;case"dragenter":let a=this.nzTreeService.getSelectedNode();a&&a.key!==n.key&&!n.isExpanded&&!n.isLeaf&&(n.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(e);break;case"dragover":this.nzOnDragOver.emit(e);break;case"dragleave":this.nzOnDragLeave.emit(e);break;case"dragend":this.nzOnDragEnd.emit(e);break;case"drop":this.renderTree(),this.nzOnDrop.emit(e);break}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(e=>e.key)),this.cdr.markForCheck()}constructor(e,n,t,o,a){super(e),this.nzConfigService=n,this.cdr=t,this.directionality=o,this.noAnimation=a,this._nzModuleName=Wn,this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new f,this.nzSelectedKeysChange=new f,this.nzCheckedKeysChange=new f,this.nzSearchValueChange=new f,this.nzClick=new f,this.nzDblClick=new f,this.nzContextMenu=new f,this.nzCheckBoxChange=new f,this.nzExpandChange=new f,this.nzOnDragStart=new f,this.nzOnDragEnter=new f,this.nzOnDragOver=new f,this.nzOnDragLeave=new f,this.nzOnDrop=new f,this.nzOnDragEnd=new f,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new P,this.onChange=()=>null,this.onTouched=()=>null}ngOnInit(){this.nzTreeService.flattenNodes$.pipe(N(this.destroy$)).subscribe(e=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?e.filter(n=>!n.canHide):e,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()})}ngOnChanges(e){this.renderTreeProperties(e)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(n){return new(n||i)(g(R),g(ze),g(K),g(he,8),g(A,9))},i.\u0275cmp=T({type:i,selectors:[["nz-tree"]],contentQueries:function(n,t,o){if(n&1&&oe(o,In,7),n&2){let a;I(a=V())&&(t.nzTreeTemplateChild=a.first)}},viewQuery:function(n,t){if(n&1&&j(pe,5,pe),n&2){let o;I(o=V())&&(t.cdkVirtualScrollViewport=o.first)}},hostVars:20,hostBindings:function(n,t){n&2&&_("ant-select-tree",t.nzSelectMode)("ant-select-tree-show-line",t.nzSelectMode&&t.nzShowLine)("ant-select-tree-icon-hide",t.nzSelectMode&&!t.nzShowIcon)("ant-select-tree-block-node",t.nzSelectMode&&t.nzBlockNode)("ant-tree",!t.nzSelectMode)("ant-tree-rtl",t.dir==="rtl")("ant-tree-show-line",!t.nzSelectMode&&t.nzShowLine)("ant-tree-icon-hide",!t.nzSelectMode&&!t.nzShowIcon)("ant-tree-block-node",!t.nzSelectMode&&t.nzBlockNode)("draggable-tree",t.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],standalone:!0,features:[ae([Yt,{provide:R,useFactory:Un},{provide:fe,useExisting:ie(()=>i),multi:!0}]),re,B,O],decls:10,vars:6,consts:[[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],["nodeTemplate",""],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate","nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop"]],template:function(n,t){n&1&&(y(0,"div"),S(1,"input",0),k(),y(2,"div",1)(3,"div",2),S(4,"div",3),k()(),y(5,"div",4),u(6,Pn,2,11,"cdk-virtual-scroll-viewport",5)(7,Hn,2,9,"div",6),k(),u(8,$n,1,28,"ng-template",null,7,ee)),n&2&&(h(),l("ngStyle",t.HIDDEN_STYLE),h(),l("ngStyle",t.HIDDEN_NODE_STYLE),h(3),_("ant-select-tree-list",t.nzSelectMode),h(),l("ngIf",t.nzVirtualHeight),h(),l("ngIf",!t.nzVirtualHeight))},dependencies:[de,pe,pt,W,zt,ve,A,te,Zt],encapsulation:2,data:{animation:[mt]},changeDetection:0});let s=i;return p([z(),L()],s.prototype,"nzShowIcon",void 0),p([z(),L()],s.prototype,"nzHideUnMatched",void 0),p([z(),L()],s.prototype,"nzBlockNode",void 0),p([z()],s.prototype,"nzExpandAll",void 0),p([z()],s.prototype,"nzSelectMode",void 0),p([z()],s.prototype,"nzCheckStrictly",void 0),p([z()],s.prototype,"nzShowExpand",void 0),p([z()],s.prototype,"nzShowLine",void 0),p([z()],s.prototype,"nzCheckable",void 0),p([z()],s.prototype,"nzAsyncData",void 0),p([z()],s.prototype,"nzDraggable",void 0),p([z()],s.prototype,"nzMultiple",void 0),s})(),qt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=x({type:i}),i.\u0275inj=D({imports:[Le,Zt,Qt,Jt]});let s=i;return s})();var Qn=["nzTreeTemplate"],Jn=["treeRef"];function Zn(s,i){if(s&1&&(y(0,"span",12),S(1,"nz-embed-empty",13),k()),s&2){let r=c(2);h(),l("nzComponentName","tree-select")("specificContent",r.nzNotFoundContent)}}var Ae=()=>[];function Yn(s,i){if(s&1){let r=H();y(0,"div",8)(1,"nz-tree",9,10),E("nzExpandChange",function(n){m(r);let t=c();return C(t.onExpandedKeysChange(n))})("nzClick",function(n){m(r);let t=c();return C(t.nzTreeClick.emit(n))})("nzCheckedKeysChange",function(){m(r);let n=c();return C(n.updateSelectedNodes())})("nzSelectedKeysChange",function(){m(r);let n=c();return C(n.updateSelectedNodes())})("nzCheckBoxChange",function(n){m(r);let t=c();return C(t.nzTreeCheckBoxChange.emit(n))})("nzSearchValueChange",function(n){m(r);let t=c();return C(t.setSearchValues(n))}),k(),u(3,Zn,2,2,"span",11),k()}if(s&2){let r=c();_("ant-select-dropdown-placement-bottomLeft",r.dropDownPosition==="bottom")("ant-select-dropdown-placement-topLeft",r.dropDownPosition==="top")("ant-tree-select-dropdown-rtl",r.dir==="rtl"),l("@slideMotion","enter")("ngClass",r.dropdownClassName)("@.disabled",!!(r.noAnimation!=null&&r.noAnimation.nzNoAnimation))("nzNoAnimation",r.noAnimation==null?null:r.noAnimation.nzNoAnimation)("dir",r.dir)("ngStyle",r.nzDropdownStyle),h(),l("hidden",r.isNotFound)("nzData",r.nzNodes)("nzMultiple",r.nzMultiple)("nzSearchValue",r.inputValue)("nzHideUnMatched",r.nzHideUnMatched)("nzShowIcon",r.nzShowIcon)("nzCheckable",r.nzCheckable)("nzAsyncData",r.nzAsyncData)("nzShowExpand",r.nzShowExpand)("nzShowLine",r.nzShowLine)("nzExpandedIcon",r.nzExpandedIcon)("nzExpandAll",r.nzDefaultExpandAll)("nzExpandedKeys",r.expandedKeys)("nzCheckedKeys",r.nzCheckable?r.value:le(34,Ae))("nzSelectedKeys",r.nzCheckable?le(35,Ae):r.value)("nzTreeTemplate",r.treeTemplate)("nzCheckStrictly",r.nzCheckStrictly)("nzVirtualItemSize",r.nzVirtualItemSize)("nzVirtualMaxBufferPx",r.nzVirtualMaxBufferPx)("nzVirtualMinBufferPx",r.nzVirtualMinBufferPx)("nzVirtualHeight",r.nzVirtualHeight),h(2),l("ngIf",r.nzNodes.length===0||r.isNotFound)}}function qn(s,i){if(s&1){let r=H();y(0,"nz-select-item",16),E("delete",function(){let t=m(r).$implicit,o=c(2);return C(o.removeSelected(t,!0))}),k()}if(s&2){let r=i.$implicit,e=c(2);l("deletable",!0)("disabled",r.isDisabled||e.nzDisabled)("label",e.nzDisplayWith(r))}}function Xn(s,i){if(s&1&&(S(0,"nz-select-item",17),X(1,"slice")),s&2){let r=c(2);l("contentTemplateOutlet",r.nzMaxTagPlaceholder)("contentTemplateOutletContext",qe(1,5,r.selectedNodes,r.nzMaxTagCount))("deletable",!1)("disabled",!1)("label","+ "+(r.selectedNodes.length-r.nzMaxTagCount)+" ...")}}function ei(s,i){if(s&1&&(w(0),u(1,qn,1,3,"nz-select-item",14),X(2,"slice"),u(3,Xn,2,8,"nz-select-item",15),b()),s&2){let r=c();h(),l("ngForOf",Xe(2,3,r.selectedNodes,0,r.nzMaxTagCount))("ngForTrackBy",r.trackValue),h(2),l("ngIf",r.selectedNodes.length>r.nzMaxTagCount)}}function ti(s,i){if(s&1&&S(0,"nz-select-placeholder",18),s&2){let r=c();Y("display",r.placeHolderDisplay),l("placeholder",r.nzPlaceHolder)}}function ni(s,i){if(s&1&&S(0,"nz-select-item",19),s&2){let r=c();l("deletable",!1)("disabled",!1)("label",r.nzDisplayWith(r.selectedNodes[0]))}}function ii(s,i){s&1&&S(0,"nz-select-arrow")}function si(s,i){if(s&1&&S(0,"nz-form-item-feedback-icon",23),s&2){let r=c(3);l("status",r.status)}}function ri(s,i){if(s&1&&u(0,si,1,1,"nz-form-item-feedback-icon",22),s&2){let r=c(2);l("ngIf",r.hasFeedback&&!!r.status)}}function oi(s,i){if(s&1&&(y(0,"nz-select-arrow",20),u(1,ri,1,1,"ng-template",null,21,ee),k()),s&2){let r=U(2),e=c();l("showArrow",!e.isMultiple)("feedbackIcon",r)}}function ai(s,i){if(s&1){let r=H();y(0,"nz-select-clear",24),E("clear",function(){m(r);let n=c();return C(n.onClearSelection())}),k()}}var Ie=(()=>{let i=class i extends R{};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=Qe(i)))(t||i)}})(),i.\u0275prov=Z({token:i,factory:i.\u0275fac});let s=i;return s})(),li="treeSelect",Ve="ant-select-dropdown ant-select-tree-dropdown",ci=[$.bottomLeft,$.bottomRight,$.topRight,$.topLeft],di=(()=>{let i=class i extends q{set nzExpandedKeys(e){this.expandedKeys=e}get nzExpandedKeys(){return this.expandedKeys}get treeTemplate(){return this.nzTreeTemplate||this.nzTreeTemplateChild}get placeHolderDisplay(){return this.inputValue||this.isComposing||this.selectedNodes.length?"none":"block"}get isMultiple(){return this.nzMultiple||this.nzCheckable}constructor(e,n,t,o,a,d,v,Q,M,Se){super(e),this.nzConfigService=n,this.renderer=t,this.cdr=o,this.elementRef=a,this.directionality=d,this.focusMonitor=v,this.noAnimation=Q,this.nzFormStatusService=M,this.nzFormNoStatusService=Se,this._nzModuleName=li,this.nzId=null,this.nzAllowClear=!0,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzDropdownMatchSelectWidth=!0,this.nzCheckable=!1,this.nzHideUnMatched=!1,this.nzShowIcon=!1,this.nzShowSearch=!1,this.nzDisabled=!1,this.nzAsyncData=!1,this.nzMultiple=!1,this.nzDefaultExpandAll=!1,this.nzCheckStrictly=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzNodes=[],this.nzOpen=!1,this.nzSize="default",this.nzPlaceHolder="",this.nzDropdownStyle=null,this.nzBackdrop=!1,this.nzStatus="",this.nzPlacement="",this.nzDisplayWith=J=>J.title,this.nzMaxTagPlaceholder=null,this.nzOpenChange=new f,this.nzCleared=new f,this.nzRemoved=new f,this.nzExpandChange=new f,this.nzTreeClick=new f,this.nzTreeCheckBoxChange=new f,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.dropdownClassName=Ve,this.isComposing=!1,this.isDestroy=!0,this.isNotFound=!1,this.focused=!1,this.inputValue="",this.dropDownPosition="bottom",this.selectedNodes=[],this.expandedKeys=[],this.value=[],this.dir="ltr",this.positions=[],this.destroy$=new P,this.isNzDisableFirstChange=!0,this.isComposingChange$=new P,this.searchValueChange$=new P,this.onChange=J=>{},this.onTouched=()=>{},this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-tree-select")}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Re((e,n)=>e.status===n.status&&e.hasFeedback===n.hasFeedback),Ue(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:_e(!1)),Fe(([{status:e,hasFeedback:n},t])=>({status:t?"":e,hasFeedback:n})),N(this.destroy$)).subscribe(({status:e,hasFeedback:n})=>{this.setStatusStyles(e,n)}),this.isDestroy=!1,this.subscribeSelectionChange(),this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.focusMonitor.monitor(this.elementRef,!0).pipe(N(this.destroy$)).subscribe(e=>{e?(this.focused=!0,this.cdr.markForCheck()):(this.focused=!1,this.cdr.markForCheck(),Promise.resolve().then(()=>{this.onTouched()}))}),Be([this.searchValueChange$,this.isComposingChange$.pipe(Ke(!1))]).pipe(N(this.destroy$)).subscribe(([e,n])=>{this.isComposing=n,n||(this.inputValue=e,this.updatePosition())})}ngOnDestroy(){this.isDestroy=!0,this.closeDropDown(),this.destroy$.next(),this.destroy$.complete()}isComposingChange(e){this.isComposingChange$.next(e)}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.closeDropDown(),this.isNzDisableFirstChange=!1}setStatusStyles(e,n){this.status=e,this.hasFeedback=n,this.cdr.markForCheck(),this.statusCls=dt(this.prefixCls,e,n),Object.keys(this.statusCls).forEach(t=>{this.statusCls[t]?this.renderer.addClass(this.elementRef.nativeElement,t):this.renderer.removeClass(this.elementRef.nativeElement,t)})}ngOnChanges(e){let{nzNodes:n,nzDropdownClassName:t,nzStatus:o,nzPlacement:a}=e;if(n&&this.updateSelectedNodes(!0),t){let d=this.nzDropdownClassName&&this.nzDropdownClassName.trim();this.dropdownClassName=d?`${Ve} ${d}`:Ve}o&&this.setStatusStyles(this.nzStatus,this.hasFeedback),a&&this.nzPlacement&&$[this.nzPlacement]&&(this.positions=[$[this.nzPlacement]])}writeValue(e){ct(e)?(this.isMultiple&&Array.isArray(e)?this.value=e:this.value=[e],this.updateSelectedNodes(!0)):(this.value=[],this.selectedNodes.forEach(n=>{this.removeSelected(n,!1)}),this.selectedNodes=[]),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}onKeydown(e){if(!this.nzDisabled)switch(e.keyCode){case 27:break;case 9:this.closeDropDown();break;default:this.nzOpen||this.openDropdown()}}trigger(){this.nzDisabled||!this.nzDisabled&&this.nzOpen?this.closeDropDown():this.openDropdown()}openDropdown(){this.nzDisabled||(this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen),this.updateCdkConnectedOverlayStatus(),(this.nzShowSearch||this.isMultiple)&&this.focusOnInput())}closeDropDown(){this.onTouched(),this.nzOpen=!1,this.inputValue="",this.isNotFound=!1,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck()}onKeyDownInput(e){let n=e.keyCode,t=e.target;if(this.isMultiple&&!t.value&&n===8&&(e.preventDefault(),this.selectedNodes.length)){let o=this.selectedNodes[this.selectedNodes.length-1];o&&!o.isDisabled&&this.removeSelected(o)}}onExpandedKeysChange(e){this.nzExpandChange.emit(e),this.expandedKeys=[...e.keys]}setInputValue(e){this.searchValueChange$.next(e)}removeSelected(e,n=!0){e.isSelected=!1,e.isChecked=!1,this.nzCheckable?this.nzTreeService.conduct(e,this.nzCheckStrictly):this.nzTreeService.setSelectedNodeList(e,this.nzMultiple),n&&this.nzRemoved.emit(e)}focusOnInput(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}subscribeSelectionChange(){He(this.nzTreeClick.pipe(je(e=>{let n=e.node;this.nzCheckable&&!n.isDisabled&&!n.isDisableCheckbox&&(n.isChecked=!n.isChecked,n.isHalfChecked=!1,this.nzCheckStrictly||this.nzTreeService.conduct(n)),this.nzCheckable&&(n.isSelected=!1)}),$e(e=>{let n=e.node;return this.nzCheckable?!n.isDisabled&&!n.isDisableCheckbox:!n.isDisabled&&n.isSelectable})),this.nzCheckable?this.nzTreeCheckBoxChange.asObservable():_e(),this.nzCleared,this.nzRemoved).pipe(N(this.destroy$)).subscribe(()=>{this.updateSelectedNodes();let e=this.selectedNodes.map(n=>n.key);this.value=[...e],(this.nzShowSearch||this.isMultiple)&&(this.inputValue="",this.isNotFound=!1),this.isMultiple?(this.onChange(e),this.focusOnInput(),this.updatePosition()):(this.closeDropDown(),this.onChange(e.length?e[0]:null))})}updateSelectedNodes(e=!1){if(e){let n=this.coerceTreeNodes(this.nzNodes);this.nzTreeService.isMultiple=this.isMultiple,this.nzTreeService.isCheckStrictly=this.nzCheckStrictly,this.nzTreeService.initTree(n),this.nzCheckable?this.nzTreeService.conductCheck(this.value,this.nzCheckStrictly):this.nzTreeService.conductSelectedKeys(this.value,this.isMultiple)}this.selectedNodes=[...this.nzCheckable?this.getCheckedNodeList():this.getSelectedNodeList()].sort((n,t)=>{let o=this.value.indexOf(n.key),a=this.value.indexOf(t.key);return o!==-1&&a!==-1?o-a:o!==-1?-1:a!==-1?1:0})}updatePosition(){ht(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}onPositionChange(e){this.dropDownPosition=e.connectionPair.originY}onClearSelection(){this.selectedNodes.forEach(e=>{this.removeSelected(e,!1)}),this.nzCleared.emit()}onClickOutside(e){this.elementRef.nativeElement.contains(e.target)||this.closeDropDown()}setSearchValues(e){Promise.resolve().then(()=>{this.isNotFound=(this.nzShowSearch||this.isMultiple)&&!!this.inputValue&&e.matchedKeys.length===0})}updateCdkConnectedOverlayStatus(){(!this.nzPlacement||!ci.includes($[this.nzPlacement]))&&(this.triggerWidth=this.cdkOverlayOrigin.elementRef.nativeElement.getBoundingClientRect().width)}trackValue(e,n){return n.key}};i.\u0275fac=function(n){return new(n||i)(g(Ie),g(ze),g(se),g(K),g(ne),g(he,8),g(yt),g(A,9),g(Dt,8),g(wt,8))},i.\u0275cmp=T({type:i,selectors:[["nz-tree-select"]],contentQueries:function(n,t,o){if(n&1&&oe(o,Qn,7),n&2){let a;I(a=V())&&(t.nzTreeTemplateChild=a.first)}},viewQuery:function(n,t){if(n&1&&(j(ue,5),j(Jn,5),j(xe,7),j(De,5)),n&2){let o;I(o=V())&&(t.nzSelectSearchComponent=o.first),I(o=V())&&(t.treeRef=o.first),I(o=V())&&(t.cdkOverlayOrigin=o.first),I(o=V())&&(t.cdkConnectedOverlay=o.first)}},hostAttrs:[1,"ant-select"],hostVars:24,hostBindings:function(n,t){n&1&&E("click",function(){return t.trigger()})("keydown",function(a){return t.onKeydown(a)}),n&2&&_("ant-select-in-form-item",!!t.nzFormStatusService)("ant-select-lg",t.nzSize==="large")("ant-select-rtl",t.dir==="rtl")("ant-select-sm",t.nzSize==="small")("ant-select-disabled",t.nzDisabled)("ant-select-single",!t.isMultiple)("ant-select-show-arrow",!t.isMultiple)("ant-select-show-search",!t.isMultiple)("ant-select-multiple",t.isMultiple)("ant-select-allow-clear",t.nzAllowClear)("ant-select-open",t.nzOpen)("ant-select-focused",t.nzOpen||t.focused)},inputs:{nzId:"nzId",nzAllowClear:"nzAllowClear",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzCheckable:"nzCheckable",nzHideUnMatched:"nzHideUnMatched",nzShowIcon:"nzShowIcon",nzShowSearch:"nzShowSearch",nzDisabled:"nzDisabled",nzAsyncData:"nzAsyncData",nzMultiple:"nzMultiple",nzDefaultExpandAll:"nzDefaultExpandAll",nzCheckStrictly:"nzCheckStrictly",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzExpandedIcon:"nzExpandedIcon",nzNotFoundContent:"nzNotFoundContent",nzNodes:"nzNodes",nzOpen:"nzOpen",nzSize:"nzSize",nzPlaceHolder:"nzPlaceHolder",nzDropdownStyle:"nzDropdownStyle",nzDropdownClassName:"nzDropdownClassName",nzBackdrop:"nzBackdrop",nzStatus:"nzStatus",nzPlacement:"nzPlacement",nzExpandedKeys:"nzExpandedKeys",nzDisplayWith:"nzDisplayWith",nzMaxTagCount:"nzMaxTagCount",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzTreeTemplate:"nzTreeTemplate"},outputs:{nzOpenChange:"nzOpenChange",nzCleared:"nzCleared",nzRemoved:"nzRemoved",nzExpandChange:"nzExpandChange",nzTreeClick:"nzTreeClick",nzTreeCheckBoxChange:"nzTreeCheckBoxChange"},exportAs:["nzTreeSelect"],standalone:!0,features:[ae([Ie,{provide:Ce,useExisting:Ie},{provide:fe,useExisting:ie(()=>i),multi:!0}]),re,B,O],decls:9,vars:20,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","overlayOutsideClick","detach","positionChange"],["cdkOverlayOrigin","",1,"ant-select-selector"],[4,"ngIf"],[3,"nzId","showInput","value","mirrorSync","disabled","focusTrigger","keydown","isComposingChange","valueChange"],[3,"placeholder","display",4,"ngIf"],[3,"deletable","disabled","label",4,"ngIf"],[3,"showArrow","feedbackIcon",4,"ngIf"],[3,"clear",4,"ngIf"],[3,"ngClass","nzNoAnimation","dir","ngStyle"],["nzNoAnimation","","nzSelectMode","","nzBlockNode","",3,"hidden","nzData","nzMultiple","nzSearchValue","nzHideUnMatched","nzShowIcon","nzCheckable","nzAsyncData","nzShowExpand","nzShowLine","nzExpandedIcon","nzExpandAll","nzExpandedKeys","nzCheckedKeys","nzSelectedKeys","nzTreeTemplate","nzCheckStrictly","nzVirtualItemSize","nzVirtualMaxBufferPx","nzVirtualMinBufferPx","nzVirtualHeight","nzExpandChange","nzClick","nzCheckedKeysChange","nzSelectedKeysChange","nzCheckBoxChange","nzSearchValueChange"],["treeRef",""],["class","ant-select-not-found",4,"ngIf"],[1,"ant-select-not-found"],[3,"nzComponentName","specificContent"],[3,"deletable","disabled","label","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"contentTemplateOutlet","contentTemplateOutletContext","deletable","disabled","label",4,"ngIf"],[3,"deletable","disabled","label","delete"],[3,"contentTemplateOutlet","contentTemplateOutletContext","deletable","disabled","label"],[3,"placeholder"],[3,"deletable","disabled","label"],[3,"showArrow","feedbackIcon"],["feedbackIconTpl",""],[3,"status",4,"ngIf"],[3,"status"],[3,"clear"]],template:function(n,t){n&1&&(u(0,Yn,4,36,"ng-template",0),E("overlayOutsideClick",function(a){return t.onClickOutside(a)})("detach",function(){return t.closeDropDown()})("positionChange",function(a){return t.onPositionChange(a)}),y(1,"div",1),u(2,ei,4,7,"ng-container",2),y(3,"nz-select-search",3),E("keydown",function(a){return t.onKeyDownInput(a)})("isComposingChange",function(a){return t.isComposingChange(a)})("valueChange",function(a){return t.setInputValue(a)}),k(),u(4,ti,1,3,"nz-select-placeholder",4)(5,ni,1,3,"nz-select-item",5)(6,ii,1,0,"nz-select-arrow",2)(7,oi,3,2,"nz-select-arrow",6)(8,ai,1,0,"nz-select-clear",7),k()),n&2&&(l("cdkConnectedOverlayHasBackdrop",t.nzBackdrop)("cdkConnectedOverlayOrigin",t.cdkOverlayOrigin)("cdkConnectedOverlayPositions",t.nzPlacement?t.positions:le(19,Ae))("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-select-tree-dropdown")("cdkConnectedOverlayMinWidth",t.nzDropdownMatchSelectWidth?null:t.triggerWidth)("cdkConnectedOverlayWidth",t.nzDropdownMatchSelectWidth?t.triggerWidth:null),h(2),l("ngIf",t.isMultiple),h(),l("nzId",t.nzId)("showInput",t.nzShowSearch)("value",t.inputValue)("mirrorSync",t.isMultiple)("disabled",t.nzDisabled)("focusTrigger",t.nzOpen),h(),l("ngIf",t.nzPlaceHolder&&t.selectedNodes.length===0),h(),l("ngIf",!t.isMultiple&&t.selectedNodes.length===1&&!t.isComposing&&t.inputValue===""),h(),l("ngIf",!t.isMultiple),h(),l("ngIf",!t.isMultiple||t.hasFeedback&&!!t.status),h(),l("ngIf",t.nzAllowClear&&!t.nzDisabled&&t.selectedNodes.length))},dependencies:[gt,ut,De,nt,A,de,qt,Le,W,It,Lt,xe,it,ge,Vt,At,Pt,Ft,ue,te,Et,bt],encapsulation:2,data:{animation:[Ct]}});let s=i;return p([z()],s.prototype,"nzAllowClear",void 0),p([z()],s.prototype,"nzShowExpand",void 0),p([z()],s.prototype,"nzShowLine",void 0),p([z(),L()],s.prototype,"nzDropdownMatchSelectWidth",void 0),p([z()],s.prototype,"nzCheckable",void 0),p([z(),L()],s.prototype,"nzHideUnMatched",void 0),p([z(),L()],s.prototype,"nzShowIcon",void 0),p([z()],s.prototype,"nzShowSearch",void 0),p([z()],s.prototype,"nzDisabled",void 0),p([z()],s.prototype,"nzAsyncData",void 0),p([z()],s.prototype,"nzMultiple",void 0),p([z()],s.prototype,"nzDefaultExpandAll",void 0),p([z()],s.prototype,"nzCheckStrictly",void 0),p([L()],s.prototype,"nzSize",void 0),p([L()],s.prototype,"nzBackdrop",void 0),s})(),Xt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=x({type:i}),i.\u0275inj=D({imports:[di]});let s=i;return s})();tt(Rt);var en=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=x({type:i,bootstrap:[Ht]}),i.\u0275inj=D({providers:[at(),{provide:Mt,useValue:Ot}],imports:[ot,Bt,kt,xt,st,ft,vt,$t,ge,Xt,Nt]});let s=i;return s})();rt().bootstrapModule(en).catch(s=>console.error(s));
